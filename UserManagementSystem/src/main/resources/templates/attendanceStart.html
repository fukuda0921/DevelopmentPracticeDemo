<!DOCTYPE html>
<html lang="en">
    <!DOCTYPE html>
    <html xmlns:th="http://www.thymeleaf.org">
    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>出勤登録</title>
        <link th:href="@{css/attendanceStart.css}" rel="stylesheet">
    </head>
<body>
    <h2>出勤登録</h2>

<!--    <form th:action="@{/home/attendance/attendanceStart/{userId}(userId=${userId})}" method="post" th:object="${GoingRegisterDto}">-->
	<form th:action="@{/home/attendance/attendanceStart/__${userId}__}" th:object="${GoingRegisterDto}" method="post">

        <!-- 勤怠ID（非活性） -->
        <div>
            <label>勤怠ID：</label>
            <input type="text" value="自動採番されます" disabled />
        </div>

        <!-- ユーザーID（非活性） -->
        <div>
            <label>ユーザーID：</label>
            <input type="text" th:value="${userId}" disabled />
            <input type="hidden" th:name="userId" th:value="${userId}" />
        </div>

        <!-- 出勤日 -->
        <div>
            <label>出勤日：</label>
            <input type="date" th:field="*{startDate}" />
			<!-- バリデーションエラー（@NotNullなど）用 -->
			   <span class="error-message" th:if="${#fields.hasErrors('startDate')}" th:errors="*{startDate}"></span>
			 <!-- 業務チェック（重複など）エラー用 -->
			    <span class="error-message" th:if="${startDate != null}" th:text="${startDate}"></span>
        </div>

        <!-- 出勤時間 -->
        <div>
            <label>出勤時間：</label>
            <input type="time" th:field="*{startTime}" />
            <span class="error-message" th:if="${#fields.hasErrors('startTime')}" th:errors="*{startTime}"></span>
        </div>

        <!-- 備考 -->
        <div>
            <label>備考：</label>
            <textarea th:field="*{remarks}" maxlength="100"></textarea>
            <span class="error-message" th:if="${#fields.hasErrors('remarks')}" th:errors="*{remarks}"></span>
        </div>

        <!-- ボタン配置 -->
        <div>
			<!-- 登録ボタン（form送信） -->
			                        <button type="submit" class="btn" 
										th:onclick="|location.href='@{/home/attendance/{userId}(userId=${userId})}'|">登録</button>

			    <!-- 戻るボタン（リンク） -->
			    <a th:href="@{/home/attendance/{userId}(userId=${userId})}" class="btn">戻る</a>
            </a>
        </div>
    </form>
</body>
</html>