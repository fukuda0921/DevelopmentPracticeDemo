<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
       PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
       "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.dao.UserRegistrationMapper">

	<!-- ユーザー情報を登録 -->
	<insert id="insertUser"
		parameterType="com.example.demo.entity.UserRegistrationEntity">

		INSERT INTO user_tbl (
			name,
			kana,
			address,
			password,
			role,
			delete_flag
		) VALUES (
			#{name},
			#{kana},
			#{address},
			#{password},
			#{role},
			#{deleteFlag}
		)
	</insert>

	<!-- メールアドレス存在すチェック -->
	<select id="countByAddress" parameterType="java.lang.String"
		resultType="int">
		SELECT
			COUNT(*)
		FROM
			user_tbl
		WHERE
			address = #{address}
		AND 
			delete_flag = 0
	</select>


</mapper>
